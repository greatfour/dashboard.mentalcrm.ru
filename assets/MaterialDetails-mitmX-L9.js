import{d as g,u as D,g as v,h as C,k as b,o as s,c as o,e as l,w as m,a as n,b as e,t as r,m as d,V as B,f as I,F as h,B as U,ar as V,r as F}from"./index-rKzDa4TW.js";import"./lodash-CyvJ_RrL.js";import{_ as L}from"./BaseCard.vue_vue_type_script_setup_true_lang-CXnM25sU.js";import{_ as N}from"./BaseLoader.vue_vue_type_script_setup_true_lang-DEUrq8Kn.js";import{_ as R}from"./BaseBreadcrumb.vue_vue_type_style_index_0_lang-C_OQyfJV.js";import{u as $}from"./Materials-yAxKbNN4.js";const j={class:"tw-mb-1 tw-flex tw-justify-between"},M={key:0,class:"tw-mr-3 tw-truncate"},q={class:"tw-text-2xl tw-font-medium"},A={key:0,class:"tw-mb-5"},E={class:"tw-mb-1 tw-text-lg"},S={class:"tw-mb-1 tw-text-lg tw-font-medium"},T={key:1,class:"tw-mb-5"},O=["onClick"],z={class:"tw-w-full tw-truncate tw-text-left"},Y=g({__name:"MaterialDetails",setup(G){const{t:u}=D(),_=v(),w=C(),a=$(),f=b(!0),y=b(),k=()=>{w.push({name:"Learning materials"})},x=async i=>{const{data:p}=await V.get(i.url,{responseType:"blob"}),c=URL.createObjectURL(p),t=document.createElement("a");t.setAttribute("href",c),t.setAttribute("download",i.name),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)};return _.query.id?a.getMaterialDetails(Number(_.query.id)).then(()=>{f.value=!1}):w.push({name:"Learning materials"}),(i,p)=>{const c=F("FileIcon");return s(),o(h,null,[l(R,{title:"materials.materialDetails"}),l(N,{isUpdate:f.value},{default:m(()=>[l(L,null,{default:m(()=>[n("div",j,[e(a).materialDetails.name?(s(),o("div",M,[n("h2",q,r(e(a).materialDetails.name),1)])):d("",!0),l(B,{onClick:k,class:"tw-mr-3",color:"primary"},{default:m(()=>[I(r(e(u)("goBack")),1)]),_:1})]),e(a).materialDetails.description?(s(),o("div",A,[n("p",E,r(e(a).materialDetails.description),1)])):d("",!0),n("h4",S,r(e(u)("materials.files")),1),e(a).materialDetails.files?(s(),o("div",T,[(s(!0),o(h,null,U(e(a).materialDetails.files,t=>(s(),o("button",{onClick:H=>x(t),key:t.url,class:"tw-mb-2 tw-flex tw-w-full tw-items-center tw-text-sm md:tw-text-base",type:"button"},[l(c,{class:"tw-mr-1"}),n("p",z,r(t.name),1)],8,O))),128))])):d("",!0),n("iframe",{ref_key:"downloadIframe",ref:y,title:"download",style:{display:"none"}},null,512)]),_:1})]),_:1},8,["isUpdate"])],64)}}});export{Y as default};
