import{h as $}from"./moment-zH0z38ay.js";import{_ as R}from"./BaseLoader.vue_vue_type_script_setup_true_lang-BuXkbLdx.js";import{_ as C}from"./BaseCard.vue_vue_type_script_setup_true_lang-DB97wE3d.js";import{d as _,u as y,o as m,p as b,w as n,a as t,t as i,b as r,e as s,af as j,f as D,r as h,ar as H,as as T,i as I,ap as O,k as S,a6 as M,c as u,m as k,F as L,B as A,n as N,at as g,ah as W,ag as v}from"./index-BhGVanJs.js";import{_ as Z}from"./BaseBreadcrumb.vue_vue_type_style_index_0_lang-BQNs6tkn.js";import{u as E}from"./Sessions-BbabeFQp.js";const F={class:"tw-mb-3 tw-text-2xl tw-font-semibold"},P={class:"tw-flex tw-items-center tw-justify-between"},z={class:"text-primary tw-flex tw-items-center tw-text-xl"},K=_({__name:"MediaWidget",setup(c){const{t:e}=y();return(f,w)=>{const d=h("BookIcon"),p=h("ArrowRightIcon"),l=h("RouterLink");return m(),b(C,{class:"tw-h-full"},{default:n(()=>[t("p",F,i(r(e)("homepage.mediaLibrary")),1),s(l,{to:{name:"Learning materials"}},{default:n(()=>[s(j,{class:"tw-mb-5 tw-cursor-pointer !tw-p-3 hover:!tw-shadow-lg",elevation:"10"},{default:n(()=>[t("div",P,[t("p",z,[s(d,{class:"tw-mr-2"}),D(" "+i(r(e)("homepage.materials")),1)]),s(p,{class:"text-primary"})])]),_:1})]),_:1})]),_:1})}}}),Y={class:"tw-mr-3 tw-text-2xl tw-font-semibold"},q=_({__name:"MoodChartWidget",props:{options:{default(){return{}},type:Object},series:{default(){return{}},type:Object}},setup(c){const{t:e}=y();return(f,w)=>{const d=h("apexchart");return m(),b(C,null,{default:n(()=>[t("p",Y,i(r(e)("homepage.moodDynamics")),1),s(d,{options:c.options,series:c.series,type:"bar",height:"300"},null,8,["options","series"])]),_:1})}}}),U=H({id:"Homepage",state:()=>({moodChart:[],selectMood:!1}),actions:{async getMoodChart(c={}){const{data:e}=await T.get("api/mood/chart",{params:c});return this.moodChart=e.list,this.selectMood=this.moodChart[this.moodChart.length-1].moodValue!==0,e},async changeMood(c){const{data:e}=await T.post(`api/mood/${c}`);return e}}}),G={class:"tw-mb-8 tw-text-2xl tw-font-semibold"},J={key:0,class:"tw-mb-6 tw-text-center tw-text-base md:tw-mb-12 md:tw-text-xl lg:tw-text-2xl"},Q={key:0,class:"tw-mb-8 tw-flex tw-justify-between tw-px-2 md:tw-px-0 lg:tw-px-12"},X={class:"tw-flex tw-flex-col tw-items-center tw-justify-center"},tt={class:"tw-text-center tw-text-base lg:tw-text-lg"},et={class:"tw-text-center tw-text-base lg:tw-text-lg"},ot={class:"tw-flex tw-flex-col tw-items-center"},st={class:"tw-text-center tw-text-base lg:tw-text-lg"},lt={class:"tw-flex tw-flex-col tw-items-center"},at={class:"tw-text-center tw-text-base lg:tw-text-lg"},it={class:"tw-flex tw-flex-col tw-items-center"},rt={class:"tw-text-center tw-text-base lg:tw-text-lg"},nt={key:0,class:"tw-mb-8 tw-pt-4 tw-text-center tw-text-xl lg:tw-pt-10 lg:tw-text-3xl"},ct=_({__name:"ChooseMoodWidget",props:{isTodaySelectMood:{},isTodaySelectMoodModifiers:{}},emits:["update:isTodaySelectMood"],setup(c){const{t:e}=y(),f=I(),w=U(),d=O(c,"isTodaySelectMood"),p=S(!1),l=async x=>{p.value=!0;try{await w.changeMood(x),await w.getMoodChart(),f.createNotification({title:e("notification.moodChange"),color:"success"})}catch{f.createNotification({title:e("notification.errorNotification"),color:"error"})}p.value=!1,d.value=!0};return(x,o)=>(m(),b(C,{class:"tw-h-full"},{default:n(()=>[s(R,{isUpdate:p.value,class:"tw-h-full"},{default:n(()=>[t("p",G,i(r(e)("homepage.journal")),1),s(M,{name:"mood"},{default:n(()=>[d.value?k("",!0):(m(),u("p",J,i(r(e)("homepage.currentMood")),1))]),_:1}),s(M,{name:"mood"},{default:n(()=>[d.value?k("",!0):(m(),u("div",Q,[t("button",{onClick:o[0]||(o[0]=a=>l(1)),type:"button"},[t("div",X,[o[5]||(o[5]=t("svg",{class:"tw-max-w-10 lg:tw-max-w-14",width:"61",height:"61",viewBox:"0 0 61 61",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("circle",{cx:"30.0876",cy:"30.0876",r:"30.0876",fill:"#606BC1","fill-opacity":"0.3"}),t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.9098 22.631C14.6618 23.1523 14.5205 23.7523 14.5205 24.3908C14.5205 26.3963 15.914 28.0221 17.633 28.0221C19.352 28.0221 20.7455 26.3963 20.7455 24.3908C20.7455 23.1636 20.2237 22.0786 19.4248 21.4212L14.9098 22.631Z",fill:"#232323"}),t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M46.2997 22.6245C46.5477 23.1458 46.689 23.7458 46.689 24.3843C46.689 26.3898 45.2954 28.0156 43.5765 28.0156C41.8575 28.0156 40.4639 26.3898 40.4639 24.3843C40.4639 23.1571 40.9858 22.0721 41.7847 21.4147L46.2997 22.6245Z",fill:"#232323"}),t("path",{d:"M47.7234 46.6888C46.1672 48.7638 39.8268 43.0575 30.0858 43.0575C20.3449 43.0575 13.4857 49.2825 12.4482 46.6888C12.4482 39.2398 20.3449 34.7575 30.0858 34.7575C39.8268 34.7575 47.7234 39.2398 47.7234 46.6888Z",fill:"#232323"})],-1)),t("p",tt,i(r(e)("homepage.terrible")),1)])]),t("button",{onClick:o[1]||(o[1]=a=>l(2)),type:"button"},[t("div",null,[o[6]||(o[6]=t("svg",{class:"tw-max-w-12 lg:tw-max-w-14",width:"61",height:"61",viewBox:"0 0 61 61",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("circle",{cx:"30.2629",cy:"30.0876",r:"30.0876",fill:"#56A4F7","fill-opacity":"0.3"}),t("ellipse",{cx:"3.11251",cy:"3.63127",rx:"3.11251",ry:"3.63127",transform:"matrix(-1 0 0 1 45.8267 20.747)",fill:"#232323"}),t("ellipse",{cx:"3.11251",cy:"3.63127",rx:"3.11251",ry:"3.63127",transform:"matrix(-1 0 0 1 19.8906 20.747)",fill:"#232323"}),t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M43.5385 49.8393C44.1216 49.5884 44.5468 49.2641 44.7897 48.8465C44.7897 40.3706 37.8221 35.2704 29.2271 35.2704C20.6322 35.2704 13.6646 40.3706 13.6646 48.8465C13.8713 49.5129 14.2578 49.9671 14.8313 50.2709C15.7132 42.9683 21.1235 37.3513 28.7109 37.3513C36.1482 37.3513 42.325 42.7482 43.5385 49.8393Z",fill:"#232323"})],-1)),t("p",et,i(r(e)("homepage.bad")),1)])]),t("button",{onClick:o[2]||(o[2]=a=>l(3)),type:"button"},[t("div",ot,[o[7]||(o[7]=t("svg",{class:"tw-max-w-12 lg:tw-max-w-14",width:"61",height:"61",viewBox:"0 0 61 61",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("circle",{cx:"30.4382",cy:"30.5038",r:"30.0876",fill:"#42A498","fill-opacity":"0.3"}),t("ellipse",{cx:"3.11251",cy:"3.63127",rx:"3.11251",ry:"3.63127",transform:"matrix(-1 0 0 1 46.002 21.1632)",fill:"#232323"}),t("ellipse",{cx:"3.11251",cy:"3.63127",rx:"3.11251",ry:"3.63127",transform:"matrix(-1 0 0 1 20.0659 21.1632)",fill:"#232323"}),t("rect",{x:"13.8384",y:"40.8791",width:"31.1251",height:"3.11251",rx:"1.55626",fill:"#232323"})],-1)),t("p",st,i(r(e)("homepage.normal")),1)])]),t("button",{onClick:o[3]||(o[3]=a=>l(4)),type:"button"},[t("div",lt,[o[8]||(o[8]=t("svg",{class:"tw-max-w-12 lg:tw-max-w-14",width:"61",height:"61",viewBox:"0 0 61 61",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("circle",{cx:"30.6135",cy:"30.0876",r:"30.0876",fill:"#9DC95E","fill-opacity":"0.3"}),t("ellipse",{cx:"3.11251",cy:"3.63127",rx:"3.11251",ry:"3.63127",transform:"matrix(-1 0 0 1 46.1772 20.747)",fill:"#232323"}),t("ellipse",{cx:"3.11251",cy:"3.63127",rx:"3.11251",ry:"3.63127",transform:"matrix(-1 0 0 1 20.2412 20.747)",fill:"#232323"}),t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M45.7809 37.1492C46.4489 37.3691 46.9346 37.6554 47.2089 38.027C47.2089 45.3727 39.5445 49.7929 30.09 49.7929C20.6356 49.7929 12.9712 45.3727 12.9712 38.027C13.2001 37.4455 13.6294 37.0505 14.2673 36.7872C15.5352 43.0105 21.4014 47.712 29.518 47.712C37.4764 47.712 44.1311 43.192 45.7809 37.1492Z",fill:"#232323"})],-1)),t("p",at,i(r(e)("homepage.good")),1)])]),t("button",{onClick:o[4]||(o[4]=a=>l(5)),type:"button"},[t("div",it,[o[9]||(o[9]=t("svg",{class:"tw-max-w-12 lg:tw-max-w-14",width:"61",height:"61",viewBox:"0 0 61 61",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("circle",{cx:"30.7888",cy:"30.92",r:"30.0876",fill:"#FCDB00","fill-opacity":"0.3"}),t("ellipse",{cx:"3.11251",cy:"3.63127",rx:"3.11251",ry:"3.63127",transform:"matrix(-1 0 0 1 46.3447 21.5794)",fill:"#232323"}),t("ellipse",{cx:"3.11251",cy:"3.63127",rx:"3.11251",ry:"3.63127",transform:"matrix(-1 0 0 1 20.4106 21.5794)",fill:"#232323"}),t("path",{d:"M48.4309 36.9415C46.8747 34.1998 40.5343 41.7394 30.7933 41.7394C21.0524 41.7394 14.1933 33.5144 13.1558 36.9415C13.1558 46.7837 21.0524 52.7062 30.7933 52.7062C40.5343 52.7062 48.4309 46.7837 48.4309 36.9415Z",fill:"#232323"})],-1)),t("p",rt,i(r(e)("homepage.excellent")),1)])])]))]),_:1}),s(M,{name:"mood"},{default:n(()=>[d.value?(m(),u("p",nt,i(r(e)("homepage.thanks")),1)):k("",!0)]),_:1})]),_:1},8,["isUpdate"])]),_:1}))}}),dt={class:"tw-relative tw-flex tw-flex-col tw-justify-center tw-pb-10"},mt={class:"tw-flex tw-items-center"},wt={class:"tw-mb-3 tw-text-2xl tw-font-semibold"},pt={key:0,class:"tw-mb-8 tw-pl-1"},ft={class:"text-primary tw-font-semibold"},ut={class:"tw-max-w-60 tw-truncate"},xt={key:1,class:"tw-mb-8 tw-pl-1"},ht={class:"tw-text-lg"},gt={class:"text-primary tw-text-lg"},_t=_({__name:"UpcomingSessionsWidget",props:{sessions:{default(){return[]},type:Object},total:{default:0,type:Number}},setup(c){const{t:e}=y();return(f,w)=>{const d=h("CalendarIcon"),p=h("RouterLink");return m(),b(C,{class:"tw-h-full"},{default:n(()=>[t("div",dt,[t("div",null,[t("div",mt,[s(d,{width:"32px",height:"32px",class:"tw-mb-2 tw-mr-2"}),t("p",wt,i(r(e)("homepage.noSessions")),1)]),c.total?(m(),u("div",pt,[(m(!0),u(L,null,A(c.sessions,l=>{var x,o;return m(),u("div",{class:"tw-mb-3 tw-flex tw-w-full tw-items-center tw-justify-between tw-text-lg",key:l.id},[t("span",ft,i(r($)(l.startsAt).format("HH:mm DD MMMM")),1),t("span",ut,i(((x=l==null?void 0:l.opponent)==null?void 0:x.firstName)??"-")+" "+i(((o=l==null?void 0:l.opponent)==null?void 0:o.lastName)??"-"),1)])}),128))])):(m(),u("div",xt,[t("p",ht,i(r(e)("homepage.noSessions")),1)]))]),s(p,{to:{name:"Calendar Month"},class:"tw-absolute tw-bottom-0 tw-pl-1"},{default:n(()=>[t("p",gt,i(r(e)("homepage.calendar")),1)]),_:1})])]),_:1})}}}),$t=_({__name:"Homepage",setup(c){const{t:e}=y(),f=E(),w=U(),d=S(!0),p=S(!0),l=N(()=>({series:[{name:e("homepage.moodPoints"),data:w.moodChart.map(a=>a.moodValue)}]})),x=N(()=>({chart:{type:"bar",height:300,fontFamily:"inherit",toolbar:{show:!1},animations:{enabled:!1}},colors:w.moodChart.map(a=>o(a.moodValue)),plotOptions:{bar:{borderRadius:3,borderRadiusWhenStacked:"both",borderRadiusApplication:"start",horizontal:!1,endingShape:"rounded",columnWidth:"20%",distributed:!0}},dataLabels:{enabled:!1},stroke:{show:!1,width:2,colors:["transparent"]},xaxis:{categories:w.moodChart.map(a=>$(a.date).format("ddd"))},yaxis:{labels:{show:!1}},fill:{opacity:1},tooltip:{theme:"dark"},legend:{show:!1},responsive:[{breakpoint:600,options:{yaxis:{show:!1}}}]})),o=a=>a===1?g.colors.error:a===2?g.colors.warning:a===3?g.colors.secondary:a===4?g.colors.success:a===5?g.colors.primary:"#808080";return Promise.all([w.getMoodChart(),f.getSessions({from:$().valueOf(),limit:5,status:["BOOKED"]})]).then(()=>{d.value=!1,p.value=w.selectMood}),(a,B)=>(m(),u(L,null,[s(Z,{title:"sidebar.homepage"}),s(R,{isUpdate:d.value},{default:n(()=>[s(W,null,{default:n(()=>[s(v,{cols:"12",lg:"6"},{default:n(()=>[s(q,{options:x.value,series:l.value.series},null,8,["options","series"])]),_:1}),s(v,{cols:"12",lg:"6"},{default:n(()=>[s(ct,{isTodaySelectMood:p.value,"onUpdate:isTodaySelectMood":B[0]||(B[0]=V=>p.value=V)},null,8,["isTodaySelectMood"])]),_:1}),s(v,{cols:"12",lg:"6"},{default:n(()=>[s(_t,{sessions:r(f).list,total:r(f).total},null,8,["sessions","total"])]),_:1}),s(v,{cols:"12",lg:"6"},{default:n(()=>[s(K)]),_:1})]),_:1})]),_:1},8,["isUpdate"])],64))}});export{$t as default};
