import{d as D,u as v,g as C,h as B,k as h,o as a,c as o,e as r,w as u,a as n,b as e,t as l,m as c,V as I,f as U,F as w,B as y,as as V,r as F}from"./index-BhGVanJs.js";import"./lodash-CVc3FTaT.js";import{_ as L}from"./BaseCard.vue_vue_type_script_setup_true_lang-DB97wE3d.js";import{_ as N}from"./BaseLoader.vue_vue_type_script_setup_true_lang-BuXkbLdx.js";import{_ as R}from"./BaseBreadcrumb.vue_vue_type_style_index_0_lang-BQNs6tkn.js";import{u as $}from"./Materials-CwIhrdnp.js";const j={class:"tw-mb-1 tw-flex tw-justify-between"},M={key:0,class:"tw-mr-3 tw-truncate"},q={class:"tw-text-2xl tw-font-medium"},A={key:0,class:"tw-mb-5"},E={class:"tw-mb-1 tw-text-lg"},S={class:"tw-mb-5"},T=["href"],O={key:1},z={class:"tw-mb-1 tw-text-lg tw-font-medium"},G={key:0,class:"tw-mb-5"},H=["onClick"],J={class:"tw-w-full tw-truncate tw-text-left"},et=D({__name:"MaterialDetails",setup(K){const{t:_}=v(),f=C(),p=B(),s=$(),b=h(!0),k=h(),x=()=>{p.push({name:"Learning materials"})},g=async m=>{const{data:i}=await V.get(m.url,{responseType:"blob"}),d=URL.createObjectURL(i),t=document.createElement("a");t.setAttribute("href",d),t.setAttribute("download",m.name),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)};return f.query.id?s.getMaterialDetails(Number(f.query.id)).then(()=>{b.value=!1}):p.push({name:"Learning materials"}),(m,i)=>{const d=F("FileIcon");return a(),o(w,null,[r(R,{title:"materials.materialDetails"}),r(N,{isUpdate:b.value},{default:u(()=>[r(L,null,{default:u(()=>[n("div",j,[e(s).materialDetails.name?(a(),o("div",M,[n("h2",q,l(e(s).materialDetails.name),1)])):c("",!0),r(I,{onClick:x,class:"tw-mr-3",color:"primary"},{default:u(()=>[U(l(e(_)("goBack")),1)]),_:1})]),e(s).materialDetails.description?(a(),o("div",A,[n("p",E,l(e(s).materialDetails.description),1)])):c("",!0),n("div",S,[i[0]||(i[0]=n("h4",{class:"tw-mb-1 tw-text-lg tw-font-medium"}," Ссылки ",-1)),(a(!0),o(w,null,y(e(s).materialDetails.urls,t=>(a(),o("a",{key:t,href:t,class:"tw-mb-1 tw-text-base tw-block tw-underline tw-underline-offset-4 !tw-decoration-solid",target:"_blank",rel:"noopener noreferrer"},l(t),9,T))),128))]),e(s).materialDetails.files.length?(a(),o("div",O,[n("h4",z,l(e(_)("materials.files")),1),e(s).materialDetails.files?(a(),o("div",G,[(a(!0),o(w,null,y(e(s).materialDetails.files,t=>(a(),o("button",{onClick:P=>g(t),key:t.url,class:"tw-mb-2 tw-flex tw-w-full tw-items-center tw-text-sm md:tw-text-base",type:"button"},[r(d,{class:"tw-mr-1"}),n("p",J,l(t.name),1)],8,H))),128))])):c("",!0)])):c("",!0),n("iframe",{ref_key:"downloadIframe",ref:k,title:"download",style:{display:"none"}},null,512)]),_:1})]),_:1},8,["isUpdate"])],64)}}});export{et as default};
