import{m as H}from"./index-qUk7GIHt.js";import{d as B,u as R,i as S,k as y,n as ne,o as g,c as F,e,w as a,ac as Z,ad as M,a as s,t as r,b as l,ae as ue,f as p,V as _,af as A,p as I,ag as b,y as de,ah as Y,_ as J,ai as ce,aj as me,ak as pe,m as U,I as $,s as L,q as X,al as fe,J as we,am as ve,r as P,an as C,ao as T,ap as _e,aq as ge,H as he,F as ye}from"./index-BhGVanJs.js";import{U as xe}from"./user-1-B0DTw7e0.js";import{u as Q}from"./Rules-CgqIM7pl.js";import"./moment-zH0z38ay.js";const be={class:"text-h5 tw-mb-2"},Ve={class:"tw-mb-3 tw-pl-1 tw-text-sm"},Ne={class:"tw-font-semibold"},ke={class:"tw-flex tw-justify-end"},W=B({__name:"TimezoneForm",setup(N){const{t:n}=R(),t=S(),d=H.tz.names().map(i=>({name:i,timezone:H.tz(i).format("Z")})),f=y(!1),V=y(!1),v=y({email:t.user.email,firstName:t.user.firstName,lastName:t.user.lastName,darkTheme:t.user.darkTheme,language:t.user.language,phone:t.user.phone,birthday:t.user.birthday,education:t.user.education,experience:t.user.experience,approach:t.user.approach,avatar:t.user.avatar,zoneId:t.user.zoneId}),o=ne(()=>d.map(i=>({title:`${i.name} (${i.timezone})`,props:{value:i.name}}))),w=async()=>{V.value=!0;try{const i=await t.changeUserDetails(v.value);v.value={email:i.data.email,firstName:i.data.firstName,lastName:i.data.lastName,darkTheme:i.data.darkTheme,language:i.data.language,phone:i.data.phone,birthday:i.data.birthday,education:t.user.education,experience:t.user.experience,approach:t.user.approach,avatar:t.user.avatar,zoneId:t.user.zoneId},t.createNotification({title:n("notification.profileDetailschange"),color:"success"})}catch{t.createNotification({title:n("notification.errorNotification"),color:"error"})}V.value=!1};return(i,c)=>(g(),F("div",null,[e(A,{elevation:"10"},{default:a(()=>[e(Z,{class:"!tw-p-4 md:!tw-p-6"},{default:a(()=>[e(M,{modelValue:f.value,"onUpdate:modelValue":c[1]||(c[1]=D=>f.value=D),"lazy-validation":""},{default:a(()=>[s("h5",be,r(l(n)("profile.timezone")),1),e(ue,{modelValue:v.value.zoneId,"onUpdate:modelValue":c[0]||(c[0]=D=>v.value.zoneId=D),items:o.value,color:"primary",type:"text",variant:"outlined","hide-details":""},null,8,["modelValue","items"]),s("p",Ve,[p(r(l(n)("profile.alertGeoTimezone"))+" ",1),s("span",Ne,r(l(H).tz.guess()),1)]),s("div",ke,[e(_,{onClick:w,loading:V.value,color:"primary"},{default:a(()=>[p(r(l(n)("save")),1)]),_:1},8,["loading"])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]))}}),Ie="/assets/profile-background-IVVetBJN.jpg",ze=["src"],Ce={class:"tw-mb-3"},Ue={class:"top-spacer text-center"},$e={class:"avatar-border"},Pe=["src"],Te={class:"tw-mt-3 tw-max-w-56 tw-truncate tw-text-xl tw-font-semibold"},De=B({__name:"HeaderProfile",setup(N){const{t:n}=R(),t=S();return(d,f)=>(g(),I(A,{elevation:"10",class:"overflow-hidden"},{default:a(()=>[s("img",{src:l(Ie),alt:"profile",class:"w-100 tw-h-28 tw-object-cover md:tw-h-40"},null,8,ze),s("div",Ce,[e(Y,{class:"mt-1"},{default:a(()=>[e(b,{cols:"12",lg:"4",sm:"12",class:"order-sm-second"}),e(b,{cols:"12",lg:"4",sm:"12",class:"d-flex order-sml-first justify-center"},{default:a(()=>[s("div",Ue,[s("div",$e,[e(de,{size:"100",class:"userImage"},{default:a(()=>[s("img",{src:l(t).user.avatar||l(xe),width:"100",alt:"Avatar"},null,8,Pe)]),_:1})]),s("h5",Te,r(l(t).user.firstName)+" "+r(l(t).user.lastName),1),s("span",null,r(l(t).user.type==="Therapist"?l(n)("profile.therapist"):l(n)("profile.client")),1)])]),_:1})]),_:1})])]),_:1}))}}),je={class:"text-h5"},qe={class:"text-subtitle-1 text-medium-emphasis mt-2"},Ae={class:"image-uploader__block tw-flex tw-h-full tw-flex-col tw-items-center"},Be={class:"input__wrapper"},Re={class:"avatar-block"},Se=["src"],Ee={class:"tw-text-5xl"},Fe={class:"text-subtitle-1 text-medium-emphasis tw-mb-5 text-center"},Le={title:"Edit your picture"},Xe={class:"text-h5 tw-mb-4 tw-pt-4"},Ye={class:"tw-mb-2 tw-text-base md:tw-text-center"},Me={class:"tw-flex tw-items-center md:tw-justify-center"},Oe={class:"tw-mb-2 tw-text-base md:tw-text-center"},He={class:"tw-flex tw-items-center md:tw-justify-center"},Je={class:"tw-mb-2 tw-text-base md:tw-text-center"},Ze={class:"tw-flex tw-items-center md:tw-justify-center"},Ge={class:"tw-mb-2 tw-text-base md:tw-text-center"},Ke={class:"tw-flex tw-items-center md:tw-justify-center"},Qe={class:"tw-mb-2 tw-text-base md:tw-text-center"},We={class:"tw-flex tw-items-center md:tw-justify-center"},et={class:"preview-area tw-flex-col tw-items-center"},tt={class:"text-h5 tw-mb-4 tw-pt-4 tw-text-center"},at={class:"tw-w-full tw-pt-2 tw-flex tw-justify-center tw-gap-2"},K=B({__name:"BaseImageUploader",props:{image:{type:String,default:""},square:{type:Boolean,default:!1}},emits:["update"],setup(N,{expose:n,emit:t}){const{t:d}=R(),f=S(),V=t,v=y(),o=y(),w=y(),i=y(!1),c=y(!1),D=()=>{i.value=!1,c.value=!1},m=x=>{o.value.relativeZoom(x)},h=(x,u)=>{o.value.move(x,u)},E=()=>{o.value.reset()},q=x=>{o.value.rotate(x)},z=()=>{const x=URL.createObjectURL(v.value.files[0]);w.value=x,i.value=!0},G=async()=>{c.value=!0,o.value.getCroppedCanvas({width:300,height:300}).toBlob(async x=>{try{const{data:u}=await f.UploadFile(x);V("update",u)}catch(u){console.log(u.status),u.status===413?f.createNotification({title:d("notification.payloadTooLarge"),color:"error"}):f.createNotification({title:d("notification.errorNotification"),color:"error"})}}),c.value=!1},ee=()=>{const x=document.getElementById("flipXBtn");if(x){const u=x.getAttribute("data-scale"),j=u?-u:-1;o.value.scaleX(j),x.setAttribute("data-scale",String(j))}},te=()=>{const x=document.getElementById("flipYBtn");if(x){const u=x.getAttribute("data-scale"),j=u?-u:-1;o.value.scaleY(j),x.setAttribute("data-scale",String(j))}};return n({close:D}),(x,u)=>{const j=P("CloudDownloadIcon"),ae=P("PencilIcon"),le=P("VueCropper"),oe=P("ArrowNarrowDownIcon"),se=P("ArrowNarrowUpIcon"),re=P("ArrowNarrowRightIcon"),ie=P("ArrowNarrowLeftIcon");return g(),F("div",null,[e(A,{elevation:"10"},{default:a(()=>[e(Z,{class:"!tw-p-4 md:!tw-p-6"},{default:a(()=>[s("h5",je,r(l(d)("profile.changeProfile")),1),s("div",qe,r(l(d)("profile.changePicture")),1),s("div",Ae,[s("div",Be,[s("input",{onChange:z,class:"input input__file",id:"input__file",ref_key:"file",ref:v,name:"file",type:"file",accept:"image/png, image/jpeg, image/bmp"},null,544),s("label",{class:J([{"tw-rounded-full":!N.square,"tw-rounded-lg":N.square},"input__file-button"]),for:"input__file"},[s("div",Re,[N.image?(g(),F("img",{key:1,src:N.image,class:J({"tw-rounded-full":!N.square,"tw-rounded-lg":N.square}),alt:"profile"},null,10,Se)):(g(),I(j,{key:0,class:"tw-h-20 tw-w-20"}))]),s("div",{class:J([{"tw-rounded-full":!N.square,"tw-rounded-lg":N.square},"avatar-block-blur tw-flex tw-items-center tw-justify-center"])},[s("div",Ee,[ce(e(ae,{class:"tw-h-24 tw-w-24","stroke-width":"1.5",size:"20"},null,512),[[me,N.image]])])],2)],2)]),s("div",Fe,r(l(d)("profile.format")),1)])]),_:1})]),_:1}),e(ve,{modelValue:i.value,"onUpdate:modelValue":u[10]||(u[10]=k=>i.value=k),"max-width":"1300"},{default:a(()=>[e(A,null,{default:a(()=>[e(pe,null,{default:a(()=>[e(M,null,{default:a(()=>[e(Y,null,{default:a(()=>[e(b,{cols:"12",md:"9"},{default:a(()=>[s("div",Le,[s("p",Xe,r(l(d)("Edit your picture")),1),w.value?(g(),I(le,{key:0,src:w.value,aspectRatio:1,ref_key:"cropper",ref:o,class:"tw-mb-5 tw-max-h-96",alt:"Source Image",preview:".preview"},null,8,["src"])):U("",!0),e(Y,null,{default:a(()=>[e(b,{cols:"12",md:"4"},{default:a(()=>[s("p",Ye,r(l(d)("profile.zoom")),1),s("div",Me,[e(_,{onClick:u[0]||(u[0]=$(k=>m(.2),["prevent"])),class:"tw-mr-3",role:"button",variant:"tonal",color:"primary"},{default:a(()=>[p(r(l(d)("profile.zoomIn")),1)]),_:1}),e(_,{onClick:u[1]||(u[1]=$(k=>m(-.2),["prevent"])),role:"button",variant:"tonal",color:"primary"},{default:a(()=>[p(r(l(d)("profile.zoomOut")),1)]),_:1})])]),_:1}),e(b,{cols:"12",md:"4"},{default:a(()=>[s("p",Oe,r(l(d)("profile.rotate")),1),s("div",He,[e(_,{onClick:u[2]||(u[2]=$(k=>q(90),["prevent"])),class:"tw-mr-3",role:"button",variant:"tonal",color:"primary"},{default:a(()=>[p(r(l(d)("profile.rotatePlus")),1)]),_:1}),e(_,{onClick:u[3]||(u[3]=$(k=>q(-90),["prevent"])),role:"button",variant:"tonal",color:"primary"},{default:a(()=>[p(r(l(d)("profile.rotateNegative")),1)]),_:1})])]),_:1}),e(b,{cols:"12",md:"4"},{default:a(()=>[s("p",Je,r(l(d)("profile.flip")),1),s("div",Ze,[e(_,{onClick:$(ee,["prevent"]),class:"tw-mr-3",id:"flipXBtn",role:"button",variant:"tonal",color:"primary","data-scale":"1"},{default:a(()=>[p(r(l(d)("profile.flipX")),1)]),_:1}),e(_,{onClick:$(te,["prevent"]),id:"flipYBtn",role:"button",variant:"tonal",color:"primary","data-scale":"1"},{default:a(()=>[p(r(l(d)("profile.flipY")),1)]),_:1})])]),_:1}),e(b,{cols:"12",md:"6"},{default:a(()=>[s("p",Ge,r(l(d)("profile.move")),1),s("div",Ke,[e(L,{text:"Up"},{activator:a(({props:k})=>[e(_,X({onClick:u[4]||(u[4]=$(O=>h(0,-1),["prevent"]))},k,{class:"tw-mr-3",variant:"tonal",color:"primary",icon:""}),{default:a(()=>[e(oe,{class:"text-primary","stroke-width":"1.5",size:"20"})]),_:2},1040)]),_:1}),e(L,{text:"Down"},{activator:a(({props:k})=>[e(_,X({onClick:u[5]||(u[5]=$(O=>h(0,1),["prevent"]))},k,{class:"tw-mr-3",variant:"tonal",color:"primary",icon:""}),{default:a(()=>[e(se,{class:"text-primary","stroke-width":"1.5",size:"20"})]),_:2},1040)]),_:1}),e(L,{text:"Right"},{activator:a(({props:k})=>[e(_,X({onClick:u[6]||(u[6]=$(O=>h(-1,0),["prevent"]))},k,{class:"tw-mr-3",variant:"tonal",color:"primary",icon:""}),{default:a(()=>[e(re,{class:"text-primary","stroke-width":"1.5",size:"20"})]),_:2},1040)]),_:1}),e(L,{text:"Left"},{activator:a(({props:k})=>[e(_,X({onClick:u[7]||(u[7]=$(O=>h(1,0),["prevent"]))},k,{variant:"tonal",color:"primary",icon:""}),{default:a(()=>[e(ie,{class:"text-primary","stroke-width":"1.5",size:"20"})]),_:2},1040)]),_:1})])]),_:1}),e(b,{cols:"12",md:"6"},{default:a(()=>[s("p",Qe,r(l(d)("profile.other")),1),s("div",We,[e(_,{onClick:$(E,["prevent"]),ref:"flipXBtn",role:"button",variant:"tonal",color:"primary"},{default:a(()=>[p(r(l(d)("profile.reset")),1)]),_:1},512)])]),_:1})]),_:1})])]),_:1}),e(b,{cols:"12",md:"3",class:"tw-hidden lg:tw-flex"},{default:a(()=>[s("div",et,[s("p",tt,r(l(d)("profile.preview")),1),u[11]||(u[11]=s("div",{class:"preview"},null,-1)),s("div",at,[e(_,{onClick:u[8]||(u[8]=k=>i.value=!1),color:"error"},{default:a(()=>[p(r(l(d)("cancel")),1)]),_:1}),e(_,{onClick:G,loading:c.value,color:"primary",variant:"flat"},{default:a(()=>[p(r(l(d)("save")),1)]),_:1},8,["loading"])])])]),_:1})]),_:1})]),_:1})]),_:1}),e(fe,{class:"pa-4 lg:!tw-hidden"},{default:a(()=>[e(we),e(_,{onClick:u[9]||(u[9]=k=>i.value=!1),color:"error"},{default:a(()=>[p(r(l(d)("cancel")),1)]),_:1}),e(_,{onClick:G,loading:c.value,color:"primary",variant:"flat"},{default:a(()=>[p(r(l(d)("save")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),lt={class:"text-h5 tw-mb-2"},ot={class:"tw-mb-2 tw-flex tw-items-start"},st={class:"tw-mb-2 tw-flex tw-items-start"},rt={class:"tw-mb-2 tw-flex tw-items-start"},it={class:"tw-flex tw-justify-end"},nt=B({__name:"ChangePasswordForm",setup(N){const{t:n}=R(),t=S(),{passwordRules:d}=Q(),f=y(!1),V=y(!1),v=y(!1),o=y(!1),w=y(!1),i=y({password:"",newPassword:"",repeatPassword:""}),c=y([m=>!!m||n("validation.passwordEmpty"),m=>m&&m.length>=8||n("validation.password"),m=>m&&m===i.value.newPassword||n("validation.repeatPassword")]),D=async()=>{V.value=!0;try{await t.changePassword({password:i.value.password,newPassword:i.value.newPassword}),i.value={password:"",repeatPassword:"",newPassword:""},t.createNotification({title:n("notification.profilePasswordchange"),color:"success"})}catch{t.createNotification({title:n("notification.errorNotification"),color:"error"})}V.value=!1};return(m,h)=>{const E=P("EyeIcon"),q=P("EyeOffIcon");return g(),I(A,{class:"!tw-p-4 md:!tw-p-6 !tw-flex !tw-flex-col !tw-justify-between"},{default:a(()=>[e(M,{modelValue:f.value,"onUpdate:modelValue":h[6]||(h[6]=z=>f.value=z),"lazy-validation":""},{default:a(()=>[s("h5",lt,r(l(n)("profile.changePassword")),1),e(C,{class:"font-weight-medium mb-2"},{default:a(()=>[p(r(l(n)("profile.yourPassword")),1)]),_:1}),s("div",ot,[e(T,{modelValue:i.value.password,"onUpdate:modelValue":h[0]||(h[0]=z=>i.value.password=z),type:v.value?"text":"password",rules:l(d),class:"tw-mr-3",color:"primary",required:""},null,8,["modelValue","type","rules"]),e(_,{onClick:h[1]||(h[1]=z=>v.value=!v.value),color:v.value?"info":"default",variant:"tonal",icon:""},{default:a(()=>[v.value?(g(),I(E,{key:0})):U("",!0),v.value?U("",!0):(g(),I(q,{key:1}))]),_:1},8,["color"])]),e(C,{class:"font-weight-medium mb-2"},{default:a(()=>[p(r(l(n)("profile.newPassword")),1)]),_:1}),s("div",st,[e(T,{modelValue:i.value.newPassword,"onUpdate:modelValue":h[2]||(h[2]=z=>i.value.newPassword=z),type:w.value?"text":"password",rules:l(d),class:"tw-mr-3",color:"primary",required:""},null,8,["modelValue","type","rules"]),e(_,{onClick:h[3]||(h[3]=z=>w.value=!w.value),color:w.value?"info":"default",variant:"tonal",icon:""},{default:a(()=>[w.value?(g(),I(E,{key:0})):U("",!0),w.value?U("",!0):(g(),I(q,{key:1}))]),_:1},8,["color"])]),e(C,{class:"font-weight-medium mb-2"},{default:a(()=>[p(r(l(n)("profile.repeatYourPassword")),1)]),_:1}),s("div",rt,[e(T,{modelValue:i.value.repeatPassword,"onUpdate:modelValue":h[4]||(h[4]=z=>i.value.repeatPassword=z),type:o.value?"text":"password",rules:c.value,class:"tw-mr-3",color:"primary",required:""},null,8,["modelValue","type","rules"]),e(_,{onClick:h[5]||(h[5]=z=>o.value=!o.value),color:o.value?"info":"default",variant:"tonal",icon:""},{default:a(()=>[o.value?(g(),I(E,{key:0})):U("",!0),o.value?U("",!0):(g(),I(q,{key:1}))]),_:1},8,["color"])]),s("div",it,[e(_,{onClick:D,loading:V.value,disabled:!f.value,color:"primary"},{default:a(()=>[p(r(l(n)("save")),1)]),_:1},8,["loading","disabled"])])]),_:1},8,["modelValue"])]),_:1})}}}),ut={class:"text-h5"},dt={class:"text-subtitle-1 text-medium-emphasis mt-2"},ct={class:"mt-5"},mt={class:"tw-flex tw-justify-end"},pt=B({__name:"PersonalDetailsForm",props:{form:{default:{email:"",firstName:"",lastName:"",darkTheme:"",language:"",phone:"",birthday:"",education:"",experience:"",approach:"",avatar:"",zoneId:"",muteNotifications:""}},formModifiers:{}},emits:["update:form"],setup(N){const{t:n}=R(),t=S(),{emailRules:d,emptyRules:f}=Q(),V=y(!1),v=y(!1),o=_e(N,"form"),w=async()=>{v.value=!0;try{const i=await t.changeUserDetails(o.value);o.value={email:i.data.email,firstName:i.data.firstName,lastName:i.data.lastName,darkTheme:i.data.darkTheme,language:i.data.language,phone:i.data.phone,birthday:i.data.birthday,education:t.user.education,experience:t.user.experience,approach:t.user.approach,avatar:t.user.avatar,zoneId:t.user.zoneId,muteNotifications:t.user.muteNotifications},t.createNotification({title:n("notification.profileDetailschange"),color:"success"})}catch{t.createNotification({title:n("notification.errorNotification"),color:"error"})}v.value=!1};return(i,c)=>{const D=P("vue-tel-input");return g(),F("div",null,[e(M,{modelValue:V.value,"onUpdate:modelValue":c[9]||(c[9]=m=>V.value=m),class:"tw-mb-3 lg:tw-mb-6","lazy-validation":""},{default:a(()=>[e(A,{elevation:"10"},{default:a(()=>[e(Z,{class:"!tw-p-4 md:!tw-p-6"},{default:a(()=>[s("h5",ut,r(l(n)("profile.personalDetails")),1),s("div",dt,r(l(n)("profile.personalDetailsSubtitle")),1),s("div",ct,[e(Y,null,{default:a(()=>[e(b,{cols:"12",lg:"6"},{default:a(()=>[e(C,{class:"font-weight-medium mb-2"},{default:a(()=>[p(r(l(n)("profile.firstName")),1)]),_:1}),e(T,{modelValue:o.value.firstName,"onUpdate:modelValue":c[0]||(c[0]=m=>o.value.firstName=m),rules:l(f),color:"primary",type:"text",variant:"outlined",required:""},null,8,["modelValue","rules"])]),_:1}),e(b,{cols:"12",lg:"6"},{default:a(()=>[e(C,{class:"font-weight-medium mb-2"},{default:a(()=>[p(r(l(n)("profile.lastName")),1)]),_:1}),e(T,{modelValue:o.value.lastName,"onUpdate:modelValue":c[1]||(c[1]=m=>o.value.lastName=m),rules:l(f),color:"primary",type:"email",variant:"outlined",required:""},null,8,["modelValue","rules"])]),_:1}),e(b,{cols:"12",lg:"6"},{default:a(()=>[e(C,{class:"font-weight-medium mb-2"},{default:a(()=>[p(r(l(n)("email")),1)]),_:1}),e(T,{modelValue:o.value.email,"onUpdate:modelValue":c[2]||(c[2]=m=>o.value.email=m),rules:l(d),color:"primary",type:"text",variant:"outlined",required:""},null,8,["modelValue","rules"])]),_:1}),e(b,{cols:"12",lg:"6"},{default:a(()=>[e(C,{class:"font-weight-medium mb-2"},{default:a(()=>[p(r(l(n)("profile.phoneNumber")),1)]),_:1}),e(D,{modelValue:o.value.phone,"onUpdate:modelValue":c[3]||(c[3]=m=>o.value.phone=m),class:"tw-mb-5"},null,8,["modelValue"])]),_:1}),e(b,{cols:"12",lg:"12"},{default:a(()=>[e(C,{class:"font-weight-medium mb-2"},{default:a(()=>[p(r(l(n)("profile.birthday")),1)]),_:1}),e(T,{modelValue:o.value.birthday,"onUpdate:modelValue":c[4]||(c[4]=m=>o.value.birthday=m),class:"tw-mb-5",type:"date",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),l(t).user.type==="Therapist"?(g(),I(b,{key:0,cols:"12",lg:"12"},{default:a(()=>[e(C,{class:"font-weight-medium mb-2"},{default:a(()=>[p(r(l(n)("profile.education")),1)]),_:1}),e(T,{modelValue:o.value.education,"onUpdate:modelValue":c[5]||(c[5]=m=>o.value.education=m),class:"tw-mb-5",color:"primary",type:"text",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1})):U("",!0),l(t).user.type==="Therapist"?(g(),I(b,{key:1,cols:"12",lg:"12"},{default:a(()=>[e(C,{class:"font-weight-medium mb-2"},{default:a(()=>[p(r(l(n)("profile.experience")),1)]),_:1}),e(T,{modelValue:o.value.experience,"onUpdate:modelValue":c[6]||(c[6]=m=>o.value.experience=m),class:"tw-mb-5",color:"primary",type:"text",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1})):U("",!0),l(t).user.type==="Therapist"?(g(),I(b,{key:2,cols:"12",lg:"12"},{default:a(()=>[e(C,{class:"font-weight-medium mb-2"},{default:a(()=>[p(r(l(n)("profile.approach")),1)]),_:1}),e(T,{modelValue:o.value.approach,"onUpdate:modelValue":c[7]||(c[7]=m=>o.value.approach=m),color:"primary",type:"text",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1})):U("",!0),e(b,{cols:"12",lg:"12"},{default:a(()=>[e(C,{class:"font-weight-medium mb-2"},{default:a(()=>[p(r(l(n)("profile.emailNotification")),1)]),_:1}),e(ge,{modelValue:o.value.muteNotifications,"onUpdate:modelValue":c[8]||(c[8]=m=>o.value.muteNotifications=m),color:"primary",class:"tw-ml-3","hide-details":""},{label:a(()=>[s("p",null,r(l(n)("profile.mute")),1)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),s("div",mt,[e(_,{onClick:w,disabled:!V.value,loading:v.value,color:"primary",flat:""},{default:a(()=>[p(r(l(n)("save")),1)]),_:1},8,["disabled","loading"])])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(t).user.type==="Client"?(g(),I(W,{key:0,form:o.value,"onUpdate:form":c[10]||(c[10]=m=>o.value=m)},null,8,["form"])):U("",!0)])}}}),ft={class:"profile__main-block tw-flex tw-w-full tw-flex-col-reverse tw-items-start tw-gap-3 lg:tw-grid lg:tw-gap-6"},yt=B({__name:"Profile",setup(N){const{t:n}=R(),t=S(),d=y(null),f=y({email:t.user.email,phone:t.user.phone,avatar:t.user.avatar,zoneId:t.user.zoneId,lastName:t.user.lastName,language:t.user.language,birthday:t.user.birthday,approach:t.user.approach,darkTheme:t.user.darkTheme,education:t.user.education,firstName:t.user.firstName,experience:t.user.experience,muteNotifications:t.user.muteNotifications}),V=async v=>{try{await t.changeUserDetails({...f.value,photoId:v}),await t.getUserDetails(),d.value&&d.value.close(),t.createNotification({title:n("notification.imageMessage"),color:"success"})}catch{t.createNotification({title:n("notification.errorNotification"),color:"error"})}};return he(()=>t.user,()=>{console.log("update"),f.value={email:t.user.email,phone:t.user.phone,avatar:t.user.avatar,zoneId:t.user.zoneId,lastName:t.user.lastName,language:t.user.language,birthday:t.user.birthday,approach:t.user.approach,darkTheme:t.user.darkTheme,education:t.user.education,firstName:t.user.firstName,experience:t.user.experience,muteNotifications:t.user.muteNotifications}}),(v,o)=>(g(),F(ye,null,[e(De,{class:"tw-mb-3 lg:tw-mb-6"}),s("div",ft,[e(K,{onUpdate:o[0]||(o[0]=w=>V(w)),image:l(t).user.avatar,ref_key:"ImageUploader",ref:d,class:"profile__image-uploader tw-hidden tw-h-full lg:tw-block"},null,8,["image"]),e(nt,{class:"profile__password tw-h-full tw-w-full"}),l(t).user.type==="Therapist"?(g(),I(W,{key:0,form:f.value,"onUpdate:form":o[1]||(o[1]=w=>f.value=w),class:"profile__timezone tw-w-full"},null,8,["form"])):U("",!0),e(pt,{form:f.value,"onUpdate:form":o[2]||(o[2]=w=>f.value=w),class:"profile__personal-details tw-w-full"},null,8,["form"]),e(K,{onUpdate:o[3]||(o[3]=w=>V(w)),image:f.value.avatar,class:"profile__image-uploader tw-h-full tw-w-full lg:tw-hidden"},null,8,["image"])])],64))}});export{yt as default};
