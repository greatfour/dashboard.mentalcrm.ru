import{d as g,u as D,g as v,h as C,k as p,o as s,c as o,e as n,w as m,a as l,b as a,t as r,m as d,V as B,f as I,F as b,B as U,ar as V,r as F}from"./index-D2tFxEgP.js";import"./lodash-DkenaKcH.js";import{_ as L}from"./BaseCard.vue_vue_type_script_setup_true_lang-DgdVNY0D.js";import{_ as N}from"./BaseLoader.vue_vue_type_script_setup_true_lang-BxgJmsTp.js";import{_ as R}from"./BaseBreadcrumb.vue_vue_type_style_index_0_lang-CuVbhYNy.js";import{u as $}from"./Materials-CD2GhBwt.js";const j={class:"tw-mb-1 tw-flex tw-justify-between"},M={key:0,class:"tw-mr-3 tw-truncate"},q={class:"tw-text-2xl tw-font-medium"},A={key:0,class:"tw-mb-5"},E={class:"tw-mb-1 tw-text-lg tw-font-medium"},S={key:1,class:"tw-mb-5"},T=["onClick"],O={class:"tw-w-full tw-truncate tw-text-left"},X=g({__name:"MaterialDetails",setup(z){const{t:y}=D(),u=v(),_=C(),e=$(),w=p(!0),h=p(),k=()=>{_.push({name:"Learning materials"})},x=async i=>{const{data:f}=await V.get(i.url,{responseType:"blob"}),c=URL.createObjectURL(f),t=document.createElement("a");t.setAttribute("href",c),t.setAttribute("download",i.name),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)};return u.query.id?e.getMaterialDetails(Number(u.query.id)).then(()=>{w.value=!1}):_.push({name:"Learning materials"}),(i,f)=>{const c=F("FileIcon");return s(),o(b,null,[n(R,{title:"materials.materialDetails"}),n(N,{isUpdate:w.value},{default:m(()=>[n(L,null,{default:m(()=>[l("div",j,[a(e).materialDetails.name?(s(),o("div",M,[l("h2",q,r(a(e).materialDetails.name),1)])):d("",!0),n(B,{onClick:k,class:"tw-mr-3",color:"primary"},{default:m(()=>[I(r(a(y)("goBack")),1)]),_:1})]),a(e).materialDetails.description?(s(),o("div",A,[l("p",E,r(a(e).materialDetails.description),1)])):d("",!0),a(e).materialDetails.files?(s(),o("div",S,[(s(!0),o(b,null,U(a(e).materialDetails.files,t=>(s(),o("button",{onClick:G=>x(t),key:t.url,class:"tw-mb-2 tw-flex tw-w-full tw-items-center tw-text-sm tw-font-medium md:tw-text-base",type:"button"},[n(c,{class:"tw-mr-1"}),l("p",O,r(t.name),1)],8,T))),128))])):d("",!0),l("iframe",{ref_key:"downloadIframe",ref:h,title:"download",style:{display:"none"}},null,512)]),_:1})]),_:1},8,["isUpdate"])],64)}}});export{X as default};
