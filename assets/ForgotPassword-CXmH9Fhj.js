import{_ as L}from"./login-bg-BUNgFWo8.js";import{_ as U}from"./Logo.vue_vue_type_script_setup_true_lang-BXpZjg1I.js";import{d as T,u as A,g as I,h as M,k as u,o as r,c as g,a,e as t,t as o,b as s,p,w as e,f as m,am as R,an as E,V as v,I as F,ad as P,m as Q,F as D,r as G,ag as q,ah as H}from"./index-D2tFxEgP.js";import{u as J,_ as K}from"./LanguageDD.vue_vue_type_script_setup_true_lang-Bbeod9m7.js";import{u as O}from"./Rules-BG1yOtK0.js";const W={class:"tw-align-center px-sm-7 tw-flex tw-justify-end tw-px-4"},X={class:"tw-align-center tw-flex tw-h-full tw-justify-center"},Y={class:"tw-align-center pa-sm-7 pa-4 tw-flex tw-w-full tw-flex-col tw-justify-center"},Z={key:0},ee={class:"text--darken-2 text-h4 font-weight-bold"},te={class:"text-subtitle-1 text-10 py-4"},se={key:1},ae={class:"text--darken-2 text-h4 font-weight-bold"},le=T({__name:"ResetForm",setup($){const{t:l}=A(),n=I(),z=M(),k=J(),{emailRules:B,passwordRules:C}=O(),h=u(""),f=u(""),w=u(""),x=u(""),y=u(!1),b=u(!1),c=u(!1),V=u(!1),N=async()=>{c.value=!0;try{await k.resetSendEmailApi(w.value),V.value=!0,setTimeout(()=>V.value=!1,3e3)}catch(_){console.log(_)}c.value=!1},S=async()=>{c.value=!0;try{await k.resetRequestApi({password:x.value,code:f.value,email:h.value}),z.push({name:"login"})}catch(_){console.error(_)}c.value=!1};return typeof n.query.code=="string"&&(f.value=n.query.code),typeof n.query.email=="string"&&(h.value=n.query.email),(_,i)=>{const j=G("RouterLink");return r(),g(D,null,[a("div",W,[t(K)]),a("div",X,[a("div",Y,[f.value&&h.value?(r(),g("div",se,[a("h2",ae,o(s(l)("auth.CreateNewPassword")),1)])):(r(),g("div",Z,[a("h2",ee,o(s(l)("auth.ForgotPassword")),1),a("p",te,o(s(l)("auth.PleaseEnterEmail")),1)])),f.value?(r(),p(P,{key:3,modelValue:b.value,"onUpdate:modelValue":i[3]||(i[3]=d=>b.value=d),onSubmit:F(S,["prevent"]),ref:"form",class:"mt-4","lazy-validation":""},{default:e(()=>[t(R,{class:"text-subtitle-1 font-weight-semibold text-lightText pb-2"},{default:e(()=>[m(o(s(l)("auth.resetNewPassword")),1)]),_:1}),t(E,{modelValue:x.value,"onUpdate:modelValue":i[2]||(i[2]=d=>x.value=d),rules:s(C),class:"tw-mb-3",required:""},null,8,["modelValue","rules"]),t(v,{loading:c.value,disabled:!b.value,size:"large",type:"submit",color:"primary",flat:"",block:""},{default:e(()=>[m(o(s(l)("save")),1)]),_:1},8,["loading","disabled"])]),_:1},8,["modelValue"])):(r(),p(P,{key:2,onSubmit:F(N,["prevent"]),modelValue:y.value,"onUpdate:modelValue":i[1]||(i[1]=d=>y.value=d),ref:"form",class:"mt-4","lazy-validation":""},{default:e(()=>[t(R,{class:"text-subtitle-1 font-weight-semibold text-lightText pb-2"},{default:e(()=>[m(o(s(l)("auth.resetEmail")),1)]),_:1}),t(E,{modelValue:w.value,"onUpdate:modelValue":i[0]||(i[0]=d=>w.value=d),rules:s(B),class:"tw-mb-3",required:""},null,8,["modelValue","rules"]),V.value?(r(),p(v,{key:1,size:"large",color:"success",type:"submit",block:"",flat:""},{default:e(()=>[m(o(s(l)("auth.successEmail")),1)]),_:1})):(r(),p(v,{key:0,loading:c.value,disabled:!y.value,size:"large",type:"submit",color:"primary",flat:"",block:"",submit:""},{default:e(()=>[m(o(s(l)("auth.resetForgotPassword")),1)]),_:1},8,["loading","disabled"]))]),_:1},8,["modelValue"])),f.value?Q("",!0):(r(),p(j,{key:4,to:{name:"login"}},{default:e(()=>[t(v,{class:"text-primary mt-5",size:"large",color:"lightprimary",flat:"",block:""},{default:e(()=>[m(o(s(l)("auth.resetBackToLogin")),1)]),_:1})]),_:1}))])])],64)}}}),oe={class:"pa-3"},re={class:"auth-header pt-sm-6 px-sm-6 pb-sm-6 px-3 py-2"},ie={class:"position-relative"},ue={class:"auth__block"},pe=T({__name:"ForgotPassword",setup($){return(l,n)=>(r(),g("div",oe,[t(H,{class:"h-100vh mh-100 auth"},{default:e(()=>[t(q,{cols:"12",lg:"8",xl:"8",xxl:"9",class:"d-lg-flex align-center authentication position-relative justify-center"},{default:e(()=>[a("div",re,[a("div",ie,[t(U)])]),n[0]||(n[0]=a("div",null,[a("img",{src:L,class:"position-relative d-none d-lg-flex",alt:"login-background"})],-1))]),_:1}),t(q,{cols:"12",lg:"4",xl:"4",xxl:"3"},{default:e(()=>[a("div",ue,[t(le)])]),_:1})]),_:1})]))}});export{pe as default};
